Vagrant.configure("2") do |config|

  # Servidor
  config.vm.define "servidor" do |servidor|
    servidor.vm.box = "debian/bullseye64"
    servidor.vm.hostname = "servidor"

    servidor.vm.network "private_network",
      ip: "192.168.56.10",
      virtualbox__intnet: "vboxnet0"

    servidor.vm.provision "ansible_local" do |ansible|
      ansible.playbook = "provision.yml"
    end
  end

  # Cliente
  config.vm.define "cliente" do |cliente|
    cliente.vm.box = "debian/bullseye64"
    cliente.vm.hostname = "cliente"

    cliente.vm.network "private_network",
      type: "dhcp",
      virtualbox__intnet: "vboxnet0"
  end

end
